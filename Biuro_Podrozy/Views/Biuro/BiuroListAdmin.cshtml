@model List<Biuro_Podrozy.Models.BiuroItem>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{

}

<h1>Podróże</h1>
<table class="table table-striped">
    <tr>
        <th scope="col">Kraj:</th>
        <th scope="col">Cena: </th>
        <th scope="col">Miejsca:</th>
        <th scope="col">Data:</th>
        <th scope="col">Miasto wylotu:</th>
        <th scope="col">Rezerwki</th>
        <th scope="col">Operacje:</th>
    </tr>
    @foreach (var item in @Model)
    {
        <tr>
            <td>@item.TravelPlace</td>
            <td>@item.Price</td>
            <td>@item.Seats</td>
            <td>@item.TravelDate</td>
            <td>
                @foreach (var x in @item.DepartureCities)
                {
                    <span>@x.CityName</span>
                }
            </td>
            <td>
                @foreach(var z in @item.Books)
                {
                    <span>@z.First_Name</span>
                }
            </td>
            <td>
                <a asp-controller="Biuro"
                   asp-action="Edit"
                   asp-route-id="@item.Id"
                   class="btn btn-primary">Edytuj</a>
                <a asp-controller="Biuro"
                   asp-action="Delete"
                   asp-route-id="@item.Id"
                   class="btn btn-danger">Usuń</a>
                <a asp-controller="Biuro"
                   asp-action="Details"
                   asp-route-id="@item.Id"
                   class="btn btn-secondary">Szczegóły</a>
            </td>
        </tr>
    }
</table>

